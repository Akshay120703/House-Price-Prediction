# -*- coding: utf-8 -*-
"""train_model.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1WHZEE8OfSzapbRiE0_OhY_Uj2bb0ZnI7
"""

import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
import pickle

# Load the dataset
df = pd.read_csv("C:\\Users\\Jahnavi Kharva\\house_price_prediction\\dataset\\Housing.csv")

# Preprocess the dataset (example: handling missing values, encoding categorical variables, etc.)
# Preprocess the dataset (example: handling missing values, encoding categorical variables, etc.)
df['mainroad'] = df['mainroad'].map({'yes': 1, 'no': 0})
df['guestroom'] = df['guestroom'].map({'yes': 1, 'no': 0})
df['basement'] = df['basement'].map({'yes': 1, 'no': 0})
df['hotwaterheating'] = df['hotwaterheating'].map({'yes': 1, 'no': 0})
df['airconditioning'] = df['airconditioning'].map({'yes': 1, 'no': 0})
df['prefarea'] = df['prefarea'].map({'yes': 1, 'no': 0})
df = pd.get_dummies(df, columns=['furnishingstatus'], drop_first=True)







# Define features and target variable

X = df.drop('price', axis=1)
y = df['price']




# Split the data into training and testing sets
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Train a simple linear regression model
model = LinearRegression()
model.fit(X_train, y_train)

# Save the model
with open("C:\\Users\\Jahnavi Kharva\\house_price_prediction\\model\\house_price_model.pkl", 'wb') as f:
    pickle.dump(model, f)

